basePath: /api/v1
definitions:
  domain.AuthResponse:
    properties:
      token:
        type: string
      user:
        $ref: '#/definitions/domain.User'
    type: object
  domain.BusinessFieldModel:
    properties:
      additional_activities:
        description: Kegiatan usaha tambahan
        type: string
      company_id:
        type: string
      created_at:
        type: string
      id:
        type: string
      industry_sector:
        description: Sektor industri
        type: string
      is_main:
        description: Apakah bidang usaha utama
        type: boolean
      kbli:
        description: Klasifikasi Baku Lapangan Usaha Indonesia
        type: string
      main_business_activity:
        description: Uraian kegiatan usaha utama
        type: string
      start_operation_date:
        description: Tanggal mulai beroperasi
        type: string
      updated_at:
        type: string
    type: object
  domain.Company:
    properties:
      children:
        items:
          $ref: '#/definitions/domain.Company'
        type: array
      code:
        description: Unique company code
        type: string
      created_at:
        type: string
      description:
        description: Optional description
        type: string
      id:
        type: string
      is_active:
        type: boolean
      level:
        description: 0=root, 1=holding, 2=subsidiary, 3=sub-subsidiary, etc
        type: integer
      name:
        type: string
      parent:
        allOf:
        - $ref: '#/definitions/domain.Company'
        description: Relationships (populated on query)
      parent_id:
        description: NULL untuk root/holding company
        type: string
      updated_at:
        type: string
      users:
        items:
          $ref: '#/definitions/domain.User'
        type: array
    type: object
  domain.CompanyModel:
    properties:
      address:
        description: Alamat perusahaan
        type: string
      business_fields:
        items:
          $ref: '#/definitions/domain.BusinessFieldModel'
        type: array
      code:
        description: Unique company code
        type: string
      created_at:
        type: string
      description:
        type: string
      directors:
        items:
          $ref: '#/definitions/domain.DirectorModel'
        type: array
      email:
        description: Email
        type: string
      fax:
        description: Fax
        type: string
      id:
        type: string
      is_active:
        type: boolean
      level:
        description: 0=root, 1=holding, 2=subsidiary, etc
        type: integer
      logo:
        description: Path/URL logo
        type: string
      main_parent_company:
        description: ID perusahaan induk utama
        type: string
      name:
        type: string
      nib:
        description: Nomor Induk Berusaha
        type: string
      npwp:
        description: Nomor Pokok Wajib Pajak
        type: string
      operational_address:
        description: Alamat operasional
        type: string
      parent_id:
        description: NULL untuk root/holding company
        type: string
      phone:
        description: Telepon
        type: string
      shareholders:
        description: Relationships
        items:
          $ref: '#/definitions/domain.ShareholderModel'
        type: array
      short_name:
        description: Nama singkat
        type: string
      status:
        description: Status perusahaan
        type: string
      updated_at:
        type: string
      website:
        description: Website
        type: string
    type: object
  domain.CreateReportRequest:
    properties:
      attachment:
        description: Optional
        type: string
      company_id:
        type: string
      dividend:
        type: integer
      financial_ratio:
        type: number
      inputter_id:
        description: Optional
        type: string
      npat:
        type: integer
      opex:
        type: integer
      period:
        description: 'Format: YYYY-MM'
        type: string
      remark:
        description: Optional
        type: string
      revenue:
        type: integer
    required:
    - company_id
    - dividend
    - financial_ratio
    - npat
    - opex
    - period
    - revenue
    type: object
  domain.DirectorModel:
    properties:
      company_id:
        type: string
      created_at:
        type: string
      domicile_address:
        description: Alamat domisili
        type: string
      full_name:
        description: Nama lengkap
        type: string
      id:
        type: string
      ktp:
        description: Nomor KTP
        type: string
      npwp:
        description: Nomor NPWP
        type: string
      position:
        description: 'Jabatan: Direktur Utama, Komisaris, dll'
        type: string
      start_date:
        description: Tanggal awal jabatan (nullable)
        type: string
      updated_at:
        type: string
    type: object
  domain.DocumentFolderModel:
    properties:
      children:
        items:
          $ref: '#/definitions/domain.DocumentFolderModel'
        type: array
      created_at:
        type: string
      created_by:
        type: string
      id:
        type: string
      name:
        type: string
      parent_id:
        type: string
      updated_at:
        type: string
    type: object
  domain.DocumentModel:
    description: Document model dengan metadata dalam format JSON
    properties:
      created_at:
        type: string
      file_name:
        description: Nama file asli
        type: string
      file_path:
        description: URL/path hasil upload
        type: string
      folder:
        $ref: '#/definitions/domain.DocumentFolderModel'
      folder_id:
        type: string
      id:
        type: string
      metadata:
        description: Metadata tambahan (opsional, format JSON)
        type: object
      mime_type:
        type: string
      name:
        description: Judul dokumen
        type: string
      size:
        description: Size in bytes
        type: integer
      status:
        type: string
      updated_at:
        type: string
      uploader_id:
        type: string
    type: object
  domain.ErrorResponse:
    properties:
      error:
        type: string
      message:
        type: string
    type: object
  domain.LoginRequest:
    properties:
      code:
        description: Kode 2FA (opsional)
        example: "123456"
        type: string
      password:
        example: password123
        minLength: 8
        type: string
      username:
        description: Bisa username atau email
        example: admin
        minLength: 3
        type: string
    required:
    - password
    - username
    type: object
  domain.Permission:
    properties:
      action:
        description: e.g., "view", "create", "update", "delete"
        type: string
      created_at:
        type: string
      description:
        description: Human-readable description
        type: string
      id:
        type: string
      name:
        description: e.g., "view_dashboard", "manage_users"
        type: string
      resource:
        description: e.g., "dashboard", "users", "documents"
        type: string
      scope:
        allOf:
        - $ref: '#/definitions/domain.PermissionScope'
        description: global, company, sub_company
      updated_at:
        type: string
    type: object
  domain.PermissionModel:
    properties:
      action:
        type: string
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      name:
        type: string
      resource:
        type: string
      scope:
        $ref: '#/definitions/domain.PermissionScope'
      updated_at:
        type: string
    type: object
  domain.PermissionScope:
    enum:
    - global
    - company
    - sub_company
    type: string
    x-enum-comments:
      ScopeCompany: Company-level access
      ScopeGlobal: Superadmin only
      ScopeSubCompany: Sub-company level access
    x-enum-descriptions:
    - Superadmin only
    - Company-level access
    - Sub-company level access
    x-enum-varnames:
    - ScopeGlobal
    - ScopeCompany
    - ScopeSubCompany
  domain.ReportModel:
    properties:
      attachment:
        description: Optional, bisa null
        type: string
      company:
        allOf:
        - $ref: '#/definitions/domain.CompanyModel'
        description: Relationships
      company_id:
        type: string
      created_at:
        type: string
      dividend:
        type: integer
      financial_ratio:
        description: Mandatory
        type: number
      id:
        type: string
      inputter:
        $ref: '#/definitions/domain.UserModel'
      inputter_id:
        description: User yang menginput (bisa null)
        type: string
      npat:
        description: Net Profit After Tax
        type: integer
      opex:
        type: integer
      period:
        description: 'Format: YYYY-MM (e.g., "2025-09")'
        type: string
      remark:
        description: Optional, bisa null
        type: string
      revenue:
        type: integer
      updated_at:
        type: string
    type: object
  domain.Role:
    properties:
      created_at:
        type: string
      description:
        description: Human-readable description
        type: string
      id:
        type: string
      is_system:
        description: System role tidak bisa dihapus
        type: boolean
      level:
        description: 0=superadmin, 1=admin, 2=manager, 3=staff
        type: integer
      name:
        description: e.g., "superadmin", "admin", "manager", "staff"
        type: string
      permissions:
        description: Relationships
        items:
          $ref: '#/definitions/domain.Permission'
        type: array
      updated_at:
        type: string
      users:
        items:
          $ref: '#/definitions/domain.User'
        type: array
    type: object
  domain.RoleModel:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      is_system:
        description: System role tidak bisa dihapus
        type: boolean
      level:
        description: 0=superadmin, 1=admin, 2=manager, 3=staff
        type: integer
      name:
        type: string
      updated_at:
        type: string
    type: object
  domain.ShareholderModel:
    properties:
      company_id:
        type: string
      created_at:
        type: string
      id:
        type: string
      identity_number:
        description: KTP/NPWP
        type: string
      is_main_parent:
        description: Apakah perusahaan induk utama
        type: boolean
      name:
        description: Nama pemegang saham
        type: string
      ownership_percent:
        description: Persentase kepemilikan
        type: number
      share_count:
        description: Jumlah saham
        type: integer
      type:
        description: 'Jenis: Badan Hukum, Individu, dll'
        type: string
      updated_at:
        type: string
    type: object
  domain.UpdateReportRequest:
    properties:
      attachment:
        type: string
      company_id:
        type: string
      dividend:
        type: integer
      financial_ratio:
        type: number
      inputter_id:
        type: string
      npat:
        type: integer
      opex:
        type: integer
      period:
        type: string
      remark:
        type: string
      revenue:
        type: integer
    type: object
  domain.User:
    properties:
      company:
        allOf:
        - $ref: '#/definitions/domain.Company'
        description: Relationships (populated on query)
      company_id:
        description: NULL untuk superadmin, required untuk user lain
        type: string
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      role:
        description: Legacy field, akan deprecated
        type: string
      role_detail:
        $ref: '#/definitions/domain.Role'
      role_id:
        description: Reference ke Role table
        type: string
      updated_at:
        type: string
      username:
        type: string
    type: object
  domain.UserCompanyResponse:
    properties:
      company:
        $ref: '#/definitions/domain.CompanyModel'
      role:
        description: Role name
        type: string
      role_id:
        type: string
      role_level:
        description: Role level untuk sorting (0=superadmin, 1=admin, 2=manager, 3=staff)
        type: integer
    type: object
  domain.UserModel:
    properties:
      company_id:
        description: NULL untuk superadmin
        type: string
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      role:
        description: |-
          Role is a legacy field. We intentionally do NOT set a default here so that
          new users can be created in "standby" mode without any role.
        type: string
      role_id:
        description: Reference ke Role table
        type: string
      updated_at:
        type: string
      username:
        type: string
    type: object
  http.UploadFileResponse:
    properties:
      filename:
        type: string
      size:
        type: integer
      url:
        type: string
    type: object
  main.AuthResponse:
    properties:
      token:
        type: string
      user:
        $ref: '#/definitions/main.User'
    type: object
  main.ErrorResponse:
    properties:
      error:
        type: string
      message:
        type: string
    type: object
  main.LoginRequest:
    properties:
      code:
        description: Kode 2FA (opsional)
        example: "123456"
        type: string
      password:
        example: password123
        type: string
      username:
        description: Bisa username atau email
        example: admin
        type: string
    type: object
  main.User:
    properties:
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      role:
        type: string
      updated_at:
        type: string
      username:
        type: string
    type: object
  sonarqube.Component:
    properties:
      key:
        type: string
      name:
        type: string
      path:
        type: string
      qualifier:
        type: string
    type: object
  sonarqube.Issue:
    properties:
      author:
        type: string
      component:
        type: string
      creationDate:
        type: string
      debt:
        type: string
      effort:
        type: string
      key:
        type: string
      line:
        type: integer
      message:
        type: string
      project:
        type: string
      rule:
        type: string
      severity:
        type: string
      status:
        type: string
      type:
        type: string
      updateDate:
        type: string
    type: object
  sonarqube.IssuesResponse:
    properties:
      components:
        items:
          $ref: '#/definitions/sonarqube.Component'
        type: array
      issues:
        items:
          $ref: '#/definitions/sonarqube.Issue'
        type: array
      p:
        type: integer
      paging:
        $ref: '#/definitions/sonarqube.Paging'
      ps:
        type: integer
      total:
        type: integer
    type: object
  sonarqube.Paging:
    properties:
      pageIndex:
        type: integer
      pageSize:
        type: integer
      total:
        type: integer
    type: object
  sonarqube.SoftwareQualityMetrics:
    properties:
      maintainability:
        description: code_smells count
        type: integer
      reliability:
        description: bugs count
        type: integer
      security:
        description: vulnerabilities count
        type: integer
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: Pedeve App Backend API dengan struktur Clean Architecture
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Pedeve App Backend API
  version: "1.0"
paths:
  /:
    get:
      consumes:
      - application/json
      description: Returns API information
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Root endpoint
      tags:
      - General
  /api/v1:
    get:
      consumes:
      - application/json
      description: Returns API version and endpoints
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: API Information
      tags:
      - General
  /api/v1/audit-logs:
    get:
      consumes:
      - application/json
      description: 'Mengambil audit logs dengan pagination dan filter. Data ini memiliki
        retention policy: 90 hari untuk user actions, 30 hari untuk technical errors.
        User reguler hanya bisa melihat audit logs mereka sendiri, sedangkan admin/superadmin
        bisa melihat semua audit logs. Endpoint ini tidak memerlukan CSRF token karena
        menggunakan method GET (read-only). Catatan: Data penting (report, document,
        company, user) disimpan di endpoint /user-activity-logs dengan permanent storage.'
      parameters:
      - description: 'Nomor halaman (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Jumlah item per halaman (default: 10, maksimal: 100)'
        in: query
        name: pageSize
        type: integer
      - description: 'Filter berdasarkan action (contoh: login, logout, create_document)'
        in: query
        name: action
        type: string
      - description: 'Filter berdasarkan resource (contoh: auth, document, user, company,
          report)'
        in: query
        name: resource
        type: string
      - description: Filter berdasarkan status (success, failure, error)
        in: query
        name: status
        type: string
      - description: Filter berdasarkan tipe log (user_action atau technical_error)
        in: query
        name: logType
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Audit logs berhasil diambil. Response berisi data (array audit
            logs), total, page, pageSize, dan totalPages
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token tidak valid atau user tidak terautentikasi
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: User tidak ditemukan di database
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Gagal mengambil audit logs
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Audit Logs
      tags:
      - Audit
  /api/v1/audit-logs/stats:
    get:
      consumes:
      - application/json
      description: Mengambil statistik tentang audit logs termasuk total records,
        jumlah berdasarkan tipe, estimasi ukuran database, dan retention policy. Endpoint
        ini tidak memerlukan CSRF token karena menggunakan method GET (read-only).
      produces:
      - application/json
      responses:
        "200":
          description: Statistik audit logs berhasil diambil. Response berisi total_records,
            user_action_count, technical_error_count, estimated_size_mb, retention_policy
            (user_action_days, technical_error_days), dll
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token tidak valid atau user tidak terautentikasi
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Gagal mengambil statistik audit logs
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Statistik Audit Logs
      tags:
      - Audit
  /api/v1/auth/2fa/disable:
    post:
      consumes:
      - application/json
      description: Menonaktifkan 2FA untuk user yang sedang terautentikasi. Setelah
        2FA dinonaktifkan, user tidak perlu memasukkan kode 2FA saat login. Endpoint
        ini memerlukan authentication dan CSRF token.
      produces:
      - application/json
      responses:
        "200":
          description: '2FA berhasil dinonaktifkan. Response berisi message: ''2FA
            has been disabled successfully'''
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token tidak valid atau user tidak terautentikasi
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: CSRF token tidak valid atau tidak ditemukan
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: 2FA tidak aktif untuk user ini (2fa_not_found)
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Gagal menonaktifkan 2FA
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Nonaktifkan 2FA
      tags:
      - Authentication
  /api/v1/auth/2fa/generate:
    post:
      consumes:
      - application/json
      description: Menghasilkan secret TOTP baru dan QR code untuk setup 2FA. Secret
        ini digunakan untuk generate kode 2FA di authenticator app (Google Authenticator,
        Authy, dll). Endpoint ini memerlukan authentication dan CSRF token.
      produces:
      - application/json
      responses:
        "200":
          description: Secret 2FA berhasil di-generate. Response berisi secret, qr_code
            (base64 image), url (untuk manual entry), dan message
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token tidak valid atau user tidak terautentikasi
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: CSRF token tidak valid atau tidak ditemukan
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Gagal generate secret 2FA
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Generate Secret 2FA
      tags:
      - Authentication
  /api/v1/auth/2fa/status:
    get:
      consumes:
      - application/json
      description: Mengambil status 2FA untuk user yang sedang terautentikasi. Endpoint
        ini tidak memerlukan CSRF token karena menggunakan method GET (read-only).
      produces:
      - application/json
      responses:
        "200":
          description: 'Status 2FA berhasil diambil. Response berisi enabled: true/false'
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token tidak valid atau user tidak terautentikasi
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Gagal mengambil status 2FA
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Cek Status 2FA
      tags:
      - Authentication
  /api/v1/auth/2fa/verify:
    post:
      consumes:
      - application/json
      description: Memverifikasi kode TOTP dari authenticator app dan mengaktifkan
        2FA untuk user. Setelah verifikasi berhasil, 2FA akan diaktifkan dan backup
        codes akan di-generate. Endpoint ini memerlukan authentication dan CSRF token.
      parameters:
      - description: Kode TOTP 6 digit dari authenticator app
        in: body
        name: code
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: '2FA berhasil diaktifkan. Response berisi message, backup_codes
            (array string), dan enabled: true'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Request body tidak valid atau secret 2FA tidak ditemukan
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Token tidak valid, user tidak terautentikasi, atau kode verifikasi
            tidak valid
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: CSRF token tidak valid atau tidak ditemukan
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Verifikasi dan Aktifkan 2FA
      tags:
      - Authentication
  /api/v1/auth/login:
    post:
      consumes:
      - application/json
      description: Autentikasi user dan kembalikan JWT token. Mendukung login dengan
        username atau email. Jika 2FA aktif, akan memerlukan kode verifikasi tambahan
        pada request berikutnya.
      parameters:
      - description: 'Kredensial login (username/email, password, dan opsional: code
          untuk 2FA)'
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/domain.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: '2FA diperlukan. Response berisi requires_2fa: true. Kirim
            kode 2FA pada request login berikutnya dengan field ''code''.'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Request body tidak valid atau validation error (username/password
            tidak memenuhi syarat)
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Kredensial tidak valid atau kode 2FA salah
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "429":
          description: Terlalu banyak request, rate limit terlampaui (5 req/min untuk
            auth endpoints)
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      summary: Login User
      tags:
      - Authentication
  /api/v1/auth/logout:
    post:
      consumes:
      - application/json
      description: Logout user dan hapus authentication cookie (auth_token). Aksi
        logout dicatat dalam audit log untuk keamanan dan audit trail. Endpoint ini
        memerlukan CSRF token karena menggunakan method POST.
      produces:
      - application/json
      responses:
        "200":
          description: 'Logout berhasil. Response berisi message: ''Logged out successfully''.
            Cookie auth_token akan dihapus.'
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Token tidak valid atau user tidak terautentikasi
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: CSRF token tidak valid atau tidak ditemukan
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Logout User
      tags:
      - Authentication
  /api/v1/auth/profile:
    get:
      consumes:
      - application/json
      description: Mengambil profil user yang sedang terautentikasi. Data user diambil
        dari JWT token yang tersimpan dalam httpOnly cookie. Endpoint ini tidak memerlukan
        CSRF token karena menggunakan method GET (read-only).
      produces:
      - application/json
      responses:
        "200":
          description: Profil user berhasil diambil. Response berisi id, username,
            email, role, created_at, dan updated_at (tanpa informasi password)
          schema:
            $ref: '#/definitions/domain.User'
        "401":
          description: Token tidak valid atau expired, user tidak terautentikasi
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: User tidak ditemukan di database
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Profil User
      tags:
      - Authentication
  /api/v1/auth/profile/email:
    put:
      consumes:
      - application/json
      description: Mengupdate email user yang sedang terautentikasi. User hanya bisa
        mengupdate email mereka sendiri.
      parameters:
      - description: New email
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.User'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update Email User
      tags:
      - Authentication
  /api/v1/auth/profile/password:
    put:
      consumes:
      - application/json
      description: Mengubah password user yang sedang terautentikasi. User harus memberikan
        password lama untuk verifikasi.
      parameters:
      - description: Old password and new password
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Change Password User
      tags:
      - Authentication
  /api/v1/companies:
    get:
      consumes:
      - application/json
      description: Mengambil daftar semua companies. Superadmin melihat semua. User
        lain hanya melihat company mereka dan descendants.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.CompanyModel'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Semua Companies
      tags:
      - Company Management
    post:
      consumes:
      - application/json
      description: Membuat company baru dalam hierarchy. Superadmin bisa membuat company
        di level manapun. Admin company hanya bisa membuat sub-company di bawah company
        mereka.
      parameters:
      - description: Company data (name, code, description, parent_id optional)
        in: body
        name: company
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.CompanyModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Buat Company Baru
      tags:
      - Company Management
  /api/v1/companies/{id}:
    delete:
      consumes:
      - application/json
      description: 'Menghapus company (soft delete: set is_active=false). Hanya bisa
        delete company sendiri atau descendants.'
      parameters:
      - description: Company ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Hapus Company
      tags:
      - Company Management
    get:
      consumes:
      - application/json
      description: Mengambil informasi company berdasarkan ID. User hanya bisa mengakses
        company mereka atau descendants.
      parameters:
      - description: Company ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.CompanyModel'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Company by ID
      tags:
      - Company Management
    put:
      consumes:
      - application/json
      description: Mengupdate informasi company. Hanya bisa update company sendiri
        atau descendants.
      parameters:
      - description: Company ID
        in: path
        name: id
        required: true
        type: string
      - description: Company data to update
        in: body
        name: company
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.CompanyModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update Company
      tags:
      - Company Management
  /api/v1/companies/{id}/children:
    get:
      consumes:
      - application/json
      description: Mengambil daftar children (sub-companies) dari company tertentu.
      parameters:
      - description: Company ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.CompanyModel'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Children Company
      tags:
      - Company Management
  /api/v1/companies/{id}/full:
    put:
      consumes:
      - application/json
      description: Mengupdate company dengan data lengkap termasuk shareholders, business
        fields, dan directors
      parameters:
      - description: Company ID
        in: path
        name: id
        required: true
        type: string
      - description: Company full data to update
        in: body
        name: company
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.CompanyModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update Company (Full Data)
      tags:
      - Company Management
  /api/v1/companies/{id}/users:
    get:
      consumes:
      - application/json
      description: Mengambil daftar users yang di-assign ke company tertentu (menggunakan
        junction table, support multiple assignments).
      parameters:
      - description: Company ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.UserModel'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Users di Company
      tags:
      - Company Management
  /api/v1/companies/full:
    post:
      consumes:
      - application/json
      description: Membuat company baru dengan data lengkap termasuk shareholders,
        business fields, dan directors
      parameters:
      - description: Company full data
        in: body
        name: company
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.CompanyModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Buat Company Baru (Full Data)
      tags:
      - Company Management
  /api/v1/csrf-token:
    get:
      consumes:
      - application/json
      description: Mengambil token CSRF baru untuk digunakan pada request yang mengubah
        state (POST, PUT, DELETE, PATCH). Token CSRF juga disimpan dalam cookie (csrf_token)
        untuk double-submit cookie pattern. Endpoint ini public dan tidak memerlukan
        authentication.
      produces:
      - application/json
      responses:
        "200":
          description: Token CSRF berhasil diambil. Response berisi csrf_token. Token
            juga disimpan dalam cookie csrf_token.
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Gagal generate token CSRF
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      summary: Ambil Token CSRF
      tags:
      - Security
  /api/v1/documents:
    get:
      consumes:
      - application/json
      description: Mengambil daftar dokumen dengan opsi pagination, search, sort,
        dan filter. Superadmin/administrator melihat semua dokumen, user reguler hanya
        melihat dokumen milik mereka sendiri.
      parameters:
      - description: Filter by folder ID
        in: query
        name: folder_id
        type: string
      - description: 'Page number (default: 0, no pagination)'
        in: query
        name: page
        type: integer
      - description: 'Page size (default: 0, no pagination, max: 100)'
        in: query
        name: page_size
        type: integer
      - description: Search by title or filename
        in: query
        name: search
        type: string
      - description: Sort field (created_at, title, size)
        in: query
        name: sort_by
        type: string
      - description: Sort direction (asc, desc)
        in: query
        name: sort_dir
        type: string
      - description: Filter by file type (pdf, docx, xlsx, etc)
        in: query
        name: type
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Daftar dokumen (tanpa pagination) atau {object} dengan data,
            total, page, page_size (dengan pagination). Metadata field menggunakan
            format JSON.
          schema:
            items:
              $ref: '#/definitions/domain.DocumentModel'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Semua Documents
      tags:
      - Documents
  /api/v1/documents/{id}:
    delete:
      consumes:
      - application/json
      description: Menghapus dokumen. Hanya owner dokumen atau superadmin/administrator
        yang dapat menghapus dokumen.
      parameters:
      - description: Document ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Dokumen berhasil dihapus
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Document tidak ditemukan
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Hapus Document
      tags:
      - Documents
    get:
      consumes:
      - application/json
      description: Mengambil detail dokumen berdasarkan ID. Superadmin/administrator
        dapat melihat semua dokumen, user reguler hanya dapat melihat dokumen milik
        mereka sendiri.
      parameters:
      - description: Document ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Detail dokumen berhasil diambil
          schema:
            $ref: '#/definitions/domain.DocumentModel'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Document tidak ditemukan
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Document by ID
      tags:
      - Documents
    put:
      consumes:
      - application/json
      - multipart/form-data
      description: Mengupdate metadata dokumen (folder_id, title, status, metadata)
        dan opsional mengganti file. Mendukung JSON payload (metadata only) atau multipart/form-data
        (dengan file). Hanya owner dokumen atau superadmin/administrator yang dapat
        mengupdate.
      parameters:
      - description: Document ID
        in: path
        name: id
        required: true
        type: string
      - description: JSON payload untuk update metadata only
        in: body
        name: payload
        schema:
          type: object
      - description: 'File baru (opsional, hanya jika Content-Type: multipart/form-data)'
        in: formData
        name: file
        type: file
      - description: 'ID folder (opsional, hanya jika Content-Type: multipart/form-data)'
        in: formData
        name: folder_id
        type: string
      - description: 'Judul dokumen (opsional, hanya jika Content-Type: multipart/form-data)'
        in: formData
        name: title
        type: string
      - description: 'Status dokumen (opsional, hanya jika Content-Type: multipart/form-data)'
        in: formData
        name: status
        type: string
      - description: 'Metadata dalam format JSON string (opsional, hanya jika Content-Type:
          multipart/form-data)'
        in: formData
        name: metadata
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Dokumen berhasil diupdate
          schema:
            $ref: '#/definitions/domain.DocumentModel'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Document atau folder tidak ditemukan
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update Document
      tags:
      - Documents
  /api/v1/documents/folders:
    get:
      consumes:
      - application/json
      description: Mengambil daftar semua folder. Superadmin/administrator melihat
        semua folder, user reguler hanya melihat folder milik mereka sendiri.
      produces:
      - application/json
      responses:
        "200":
          description: Daftar folder berhasil diambil
          schema:
            items:
              $ref: '#/definitions/domain.DocumentFolderModel'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Semua Folders
      tags:
      - Documents
    post:
      consumes:
      - application/json
      description: Membuat folder baru. Folder dapat memiliki parent folder (opsional)
        untuk membuat struktur hierarki.
      parameters:
      - description: Folder data
        in: body
        name: payload
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Folder berhasil dibuat
          schema:
            $ref: '#/definitions/domain.DocumentFolderModel'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Buat Folder Baru
      tags:
      - Documents
  /api/v1/documents/folders/{id}:
    delete:
      consumes:
      - application/json
      description: Menghapus folder beserta semua dokumen di dalamnya. Hanya owner
        folder atau superadmin/administrator yang dapat menghapus folder.
      parameters:
      - description: Folder ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Folder berhasil dihapus
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Hapus Folder
      tags:
      - Documents
    put:
      consumes:
      - application/json
      description: Mengubah nama folder. Hanya owner folder atau superadmin/administrator
        yang dapat mengubah nama folder.
      parameters:
      - description: Folder ID
        in: path
        name: id
        required: true
        type: string
      - description: Folder data
        in: body
        name: payload
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Folder berhasil diupdate
          schema:
            $ref: '#/definitions/domain.DocumentFolderModel'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update Nama Folder
      tags:
      - Documents
  /api/v1/documents/summary:
    get:
      consumes:
      - application/json
      description: Mengembalikan statistik folder (file_count, total_size) dan total
        storage. Data bersifat global untuk semua dokumen.
      produces:
      - application/json
      responses:
        "200":
          description: Ringkasan dokumen berhasil diambil. Response berisi folder_stats
            (array) dan total_size (number)
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Ringkasan Documents
      tags:
      - Documents
  /api/v1/documents/upload:
    post:
      consumes:
      - multipart/form-data
      description: Mengupload dokumen baru dengan file, title, status, dan metadata.
        File wajib diupload dalam format multipart/form-data.
      parameters:
      - description: File dokumen yang akan diupload
        in: formData
        name: file
        required: true
        type: file
      - description: ID folder (opsional)
        in: formData
        name: folder_id
        type: string
      - description: Judul dokumen (opsional)
        in: formData
        name: title
        type: string
      - description: 'Status dokumen (default: active)'
        in: formData
        name: status
        type: string
      - description: Metadata dalam format JSON string (opsional)
        in: formData
        name: metadata
        type: string
      produces:
      - application/json
      responses:
        "201":
          description: Dokumen berhasil diupload
          schema:
            $ref: '#/definitions/domain.DocumentModel'
        "400":
          description: Invalid request atau file tidak valid
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden (tidak memiliki akses ke folder)
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Folder tidak ditemukan
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upload Document Baru
      tags:
      - Documents
  /api/v1/files/{path}:
    get:
      consumes:
      - application/json
      description: Serve file dari storage (GCP Storage atau local) sebagai proxy.
        Endpoint ini protected dan memerlukan authentication untuk keamanan file documents.
      parameters:
      - description: File path (e.g., logos/filename.png atau documents/filename.pdf)
        in: path
        name: path
        required: true
        type: string
      produces:
      - image/png
      - image/jpeg
      - image/jpg
      - application/octet-stream
      - application/pdf
      responses:
        "200":
          description: File content
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Serve File
      tags:
      - Files
  /api/v1/permissions:
    get:
      consumes:
      - application/json
      description: Mengambil daftar semua permissions. Bisa difilter berdasarkan resource
        atau scope.
      parameters:
      - description: Filter by resource
        in: query
        name: resource
        type: string
      - description: Filter by scope (global, company, sub_company)
        in: query
        name: scope
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.PermissionModel'
            type: array
      security:
      - BearerAuth: []
      summary: Ambil Semua Permissions
      tags:
      - Permission Management
    post:
      consumes:
      - application/json
      description: Membuat permission baru. Hanya superadmin yang bisa membuat permission.
      parameters:
      - description: Permission data
        in: body
        name: permission
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.PermissionModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Buat Permission Baru
      tags:
      - Permission Management
  /api/v1/permissions/{id}:
    delete:
      consumes:
      - application/json
      description: Menghapus permission.
      parameters:
      - description: Permission ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Hapus Permission
      tags:
      - Permission Management
    get:
      consumes:
      - application/json
      description: Mengambil informasi permission berdasarkan ID.
      parameters:
      - description: Permission ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.PermissionModel'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Permission by ID
      tags:
      - Permission Management
    put:
      consumes:
      - application/json
      description: Mengupdate informasi permission.
      parameters:
      - description: Permission ID
        in: path
        name: id
        required: true
        type: string
      - description: Permission data to update
        in: body
        name: permission
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.PermissionModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update Permission
      tags:
      - Permission Management
  /api/v1/reports:
    get:
      consumes:
      - application/json
      description: Mendapatkan semua reports. Superadmin melihat semua, admin melihat
        reports dari perusahaan mereka dan anak perusahaan, user biasa hanya melihat
        reports dari perusahaan mereka.
      parameters:
      - description: Filter by company ID
        in: query
        name: company_id
        type: string
      - description: Filter by period (YYYY-MM)
        in: query
        name: period
        type: string
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Page size (default: 10)'
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get All Reports
      tags:
      - Reports
    post:
      consumes:
      - application/json
      description: Membuat report bulanan baru untuk perusahaan. Setiap perusahaan
        hanya bisa membuat report untuk perusahaan mereka sendiri.
      parameters:
      - description: Report data
        in: body
        name: report
        required: true
        schema:
          $ref: '#/definitions/domain.CreateReportRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.ReportModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Buat Report Baru
      tags:
      - Reports
  /api/v1/reports/{id}:
    delete:
      consumes:
      - application/json
      description: Menghapus report. User hanya bisa menghapus report dari perusahaan
        mereka.
      parameters:
      - description: Report ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete Report
      tags:
      - Reports
    get:
      consumes:
      - application/json
      description: Mendapatkan detail report berdasarkan ID. User hanya bisa melihat
        report dari perusahaan mereka (atau anak perusahaan untuk admin).
      parameters:
      - description: Report ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ReportModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get Report by ID
      tags:
      - Reports
    put:
      consumes:
      - application/json
      description: Mengupdate report. User hanya bisa mengupdate report dari perusahaan
        mereka.
      parameters:
      - description: Report ID
        in: path
        name: id
        required: true
        type: string
      - description: Report update data
        in: body
        name: report
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateReportRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ReportModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update Report
      tags:
      - Reports
  /api/v1/reports/company/{company_id}:
    get:
      consumes:
      - application/json
      description: Mendapatkan semua reports untuk perusahaan tertentu. User hanya
        bisa melihat reports dari perusahaan mereka (atau anak perusahaan untuk admin).
      parameters:
      - description: Company ID
        in: path
        name: company_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.ReportModel'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get Reports by Company ID
      tags:
      - Reports
  /api/v1/reports/export/excel:
    get:
      consumes:
      - application/json
      description: Export semua reports yang dapat diakses user ke format Excel
      parameters:
      - description: Filter by company ID
        in: query
        name: company_id
        type: string
      - description: Filter by period (YYYY-MM)
        in: query
        name: period
        type: string
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: OK
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Export Reports to Excel
      tags:
      - Reports
  /api/v1/reports/export/pdf:
    get:
      consumes:
      - application/json
      description: Export semua reports yang dapat diakses user ke format PDF
      parameters:
      - description: Filter by company ID
        in: query
        name: company_id
        type: string
      - description: Filter by period (YYYY-MM)
        in: query
        name: period
        type: string
      produces:
      - application/pdf
      responses:
        "200":
          description: OK
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Export Reports to PDF
      tags:
      - Reports
  /api/v1/reports/template:
    get:
      consumes:
      - application/json
      description: Download template Excel file untuk upload reports. Template berisi
        kolom-kolom yang diperlukan dengan contoh data.
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: OK
          schema:
            type: file
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Download Report Template
      tags:
      - Reports
  /api/v1/reports/upload:
    post:
      consumes:
      - multipart/form-data
      description: Upload Excel file, validate rows, and create reports in database.
      parameters:
      - description: Excel file (.xlsx, .xls)
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: Response dengan success, failed, dan errors
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upload Reports from Excel
      tags:
      - Reports
  /api/v1/reports/validate:
    post:
      consumes:
      - multipart/form-data
      description: Validates Excel file format and data before upload. Returns validation
        errors and parsed data.
      parameters:
      - description: Excel file (.xlsx, .xls)
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: Response dengan valid, errors, dan data
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Validate Excel File
      tags:
      - Reports
  /api/v1/roles:
    get:
      consumes:
      - application/json
      description: Mengambil daftar semua roles.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.RoleModel'
            type: array
      security:
      - BearerAuth: []
      summary: Ambil Semua Roles
      tags:
      - Role Management
    post:
      consumes:
      - application/json
      description: Membuat role baru. Hanya superadmin yang bisa membuat role.
      parameters:
      - description: Role data
        in: body
        name: role
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.RoleModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Buat Role Baru
      tags:
      - Role Management
  /api/v1/roles/{id}:
    delete:
      consumes:
      - application/json
      description: Menghapus role. System roles tidak bisa dihapus.
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Hapus Role
      tags:
      - Role Management
    get:
      consumes:
      - application/json
      description: Mengambil informasi role berdasarkan ID.
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.RoleModel'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Role by ID
      tags:
      - Role Management
    put:
      consumes:
      - application/json
      description: Mengupdate informasi role. System roles tidak bisa diupdate.
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      - description: Role data to update
        in: body
        name: role
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.RoleModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update Role
      tags:
      - Role Management
  /api/v1/roles/{id}/permissions:
    delete:
      consumes:
      - application/json
      description: Menghapus permission dari role.
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      - description: Permission ID
        in: body
        name: permission_id
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Revoke Permission dari Role
      tags:
      - Role Management
    get:
      consumes:
      - application/json
      description: Mengambil daftar permissions yang dimiliki oleh role.
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.PermissionModel'
            type: array
      security:
      - BearerAuth: []
      summary: Ambil Permissions Role
      tags:
      - Role Management
    post:
      consumes:
      - application/json
      description: Menambahkan permission ke role.
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      - description: Permission ID
        in: body
        name: permission_id
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Assign Permission ke Role
      tags:
      - Role Management
  /api/v1/swagger/regenerate:
    post:
      consumes:
      - application/json
      description: Regenerate Swagger documentation dari source code. Endpoint ini
        berguna untuk development agar Swagger selalu up-to-date tanpa perlu restart
        server.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Regenerate Swagger Documentation
      tags:
      - System
  /api/v1/upload/logo:
    post:
      consumes:
      - multipart/form-data
      description: Upload logo perusahaan dengan validasi format (PNG, JPG, JPEG)
        dan ukuran maksimal 5MB
      parameters:
      - description: File logo (PNG, JPG, JPEG, max 5MB)
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/http.UploadFileResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "413":
          description: Request Entity Too Large
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upload Logo Perusahaan
      tags:
      - Upload
  /api/v1/user-activity-logs:
    get:
      consumes:
      - application/json
      description: 'Mengambil user activity logs (permanent) untuk resource penting:
        report, document, company, user. Data ini tidak akan dihapus (permanent storage
        tanpa retention policy) untuk keperluan compliance dan legal. User reguler
        hanya bisa melihat logs mereka sendiri, sedangkan admin/superadmin bisa melihat
        semua logs. Endpoint ini tidak memerlukan CSRF token karena menggunakan method
        GET (read-only).'
      parameters:
      - description: 'Nomor halaman (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Jumlah item per halaman (default: 10, maksimal: 100)'
        in: query
        name: pageSize
        type: integer
      - description: 'Filter berdasarkan action (contoh: create_report, update_document,
          create_company, create_user)'
        in: query
        name: action
        type: string
      - description: Filter berdasarkan resource (report, document, company, user)
        in: query
        name: resource
        type: string
      - description: Filter berdasarkan status (success, failure, error)
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: User activity logs berhasil diambil. Response berisi data (array
            user activity logs), total, page, pageSize, dan totalPages
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token tidak valid atau user tidak terautentikasi
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: User tidak ditemukan di database
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Gagal mengambil user activity logs
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil User Activity Logs
      tags:
      - Audit
  /api/v1/users:
    get:
      consumes:
      - application/json
      description: Mengambil daftar semua users. Filtered berdasarkan company access
        (RBAC). Superadmin melihat semua users. Non-superadmin hanya melihat users
        di company mereka dan descendants.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.UserModel'
            type: array
      security:
      - BearerAuth: []
      summary: Ambil Semua Users
      tags:
      - User Management
    post:
      consumes:
      - application/json
      description: Membuat user baru. Admin hanya bisa membuat user di company mereka
        atau descendants. Superadmin role tidak bisa dibuat dari antarmuka ini.
      parameters:
      - description: User data
        in: body
        name: user
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.UserModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Buat User Baru
      tags:
      - User Management
  /api/v1/users/{id}:
    delete:
      consumes:
      - application/json
      description: Menghapus user. Superadmin tidak bisa menghapus dirinya sendiri
        atau user superadmin lainnya.
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Hapus User
      tags:
      - User Management
    get:
      consumes:
      - application/json
      description: Mengambil informasi user berdasarkan ID.
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.UserModel'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil User by ID
      tags:
      - User Management
    put:
      consumes:
      - application/json
      description: Mengupdate informasi user. Superadmin tidak bisa mengedit dirinya
        sendiri.
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      - description: User data to update
        in: body
        name: user
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.UserModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update User
      tags:
      - User Management
  /api/v1/users/{id}/assign-company:
    post:
      consumes:
      - application/json
      description: Mengassign user ke company tertentu. Superadmin bisa assign ke
        semua company, admin bisa assign ke company mereka sendiri.
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      - description: Company ID and Role ID
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.UserModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Assign User ke Company
      tags:
      - User Management
  /api/v1/users/{id}/reset-password:
    post:
      consumes:
      - application/json
      description: Reset password untuk user. Hanya superadmin yang bisa melakukan
        reset password. Superadmin tidak bisa reset password dirinya sendiri.
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      - description: New password
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reset Password User
      tags:
      - User Management
  /api/v1/users/{id}/toggle-status:
    patch:
      consumes:
      - application/json
      description: Mengaktifkan atau menonaktifkan user. Superadmin tidak bisa menonaktifkan
        dirinya sendiri atau user superadmin lainnya.
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.UserModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Toggle Status User
      tags:
      - User Management
  /api/v1/users/{id}/unassign-company:
    post:
      consumes:
      - application/json
      description: Menghapus assignment user dari company tertentu. User bisa tetap
        di-assign ke company lain.
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      - description: Company ID
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.UserModel'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Unassign User dari Company
      tags:
      - User Management
  /api/v1/users/me/companies:
    get:
      consumes:
      - application/json
      description: Mengambil daftar semua companies yang di-assign ke user yang sedang
        login (dari junction table, support multiple assignments).
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.UserCompanyResponse'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Ambil Companies User Saat Ini
      tags:
      - User Management
  /development/check-all-seeder-status:
    get:
      consumes:
      - application/json
      description: Mengecek status semua seeder data (company, reports, dll)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Cek Status Semua Seeder
      tags:
      - Development
  /development/check-report-status:
    get:
      consumes:
      - application/json
      description: Mengecek apakah data seeder reports sudah ada (hanya superadmin)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Cek Status Seeder Data Reports
      tags:
      - Development
  /development/check-seeder-status:
    get:
      consumes:
      - application/json
      description: Mengecek apakah data seeder sudah ada (hanya superadmin)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Cek Status Seeder Data
      tags:
      - Development
  /development/reset-all-seeded-data:
    post:
      consumes:
      - application/json
      description: 'Mereset semua data yang sudah di-seed secara berurutan: Reports
        -> Company. Memastikan relasi data dihapus dengan benar.'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reset Semua Data Seeder
      tags:
      - Development
  /development/reset-reports:
    post:
      consumes:
      - application/json
      description: Menghapus semua data reports (hanya superadmin)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reset Data Reports
      tags:
      - Development
  /development/reset-subsidiary:
    post:
      consumes:
      - application/json
      description: Menghapus semua data subsidiary dan user yang terkait (hanya superadmin)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reset Data Subsidiary
      tags:
      - Development
  /development/run-all-seeders:
    post:
      consumes:
      - application/json
      description: 'Menjalankan semua seeder secara berurutan: Company -> Reports.
        Memastikan relasi data terjaga.'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Jalankan Semua Seeder Data
      tags:
      - Development
  /development/run-report-seeder:
    post:
      consumes:
      - application/json
      description: Menjalankan seeder untuk membuat sample data reports (hanya superadmin)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Jalankan Seeder Data Reports
      tags:
      - Development
  /development/run-subsidiary-seeder:
    post:
      consumes:
      - application/json
      description: Menjalankan seeder untuk membuat sample data subsidiary (hanya
        superadmin)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Jalankan Seeder Data Subsidiary
      tags:
      - Development
  /health:
    get:
      consumes:
      - application/json
      description: Returns health status
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Health check
      tags:
      - General
  /sonarqube/issues:
    get:
      consumes:
      - application/json
      description: Mengambil daftar issues dari SonarCloud untuk project ini (hanya
        superadmin/admin)
      parameters:
      - collectionFormat: csv
        description: Filter by severity (BLOCKER, CRITICAL, MAJOR, MINOR, INFO)
        in: query
        items:
          type: string
        name: severities
        type: array
      - collectionFormat: csv
        description: Filter by type (BUG, VULNERABILITY, CODE_SMELL)
        in: query
        items:
          type: string
        name: types
        type: array
      - collectionFormat: csv
        description: Filter by status (OPEN, CONFIRMED, REOPENED, RESOLVED)
        in: query
        items:
          type: string
        name: statuses
        type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/sonarqube.IssuesResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get SonarCloud Issues
      tags:
      - SonarQube
  /sonarqube/issues/export:
    get:
      consumes:
      - application/json
      description: Export daftar issues dari SonarCloud dalam format JSON untuk download
        (hanya superadmin/admin)
      parameters:
      - collectionFormat: csv
        description: Filter by severity (BLOCKER, CRITICAL, MAJOR, MINOR, INFO)
        in: query
        items:
          type: string
        name: severities
        type: array
      - collectionFormat: csv
        description: Filter by type (BUG, VULNERABILITY, CODE_SMELL)
        in: query
        items:
          type: string
        name: types
        type: array
      - collectionFormat: csv
        description: Filter by status (OPEN, CONFIRMED, REOPENED, RESOLVED)
        in: query
        items:
          type: string
        name: statuses
        type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: file
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Export SonarCloud Issues
      tags:
      - SonarQube
  /sonarqube/quality:
    get:
      consumes:
      - application/json
      description: Mengambil metrics Software Quality (Security, Reliability, Maintainability)
        dari SonarCloud (hanya superadmin/admin)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/sonarqube.SoftwareQualityMetrics'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get Software Quality Metrics
      tags:
      - SonarQube
  /sonarqube/status:
    get:
      consumes:
      - application/json
      description: Mengecek apakah fitur SonarQube Monitor tersedia/enabled (public
        endpoint, tidak perlu auth)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: boolean
            type: object
      summary: Get SonarQube Monitor Status
      tags:
      - SonarQube
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token. Atau menggunakan
      httpOnly cookie (auth_token) untuk keamanan yang lebih baik.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
